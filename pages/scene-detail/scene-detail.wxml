<view class="detail-container">
  <!-- é¡¶éƒ¨èƒŒæ™¯å›¾å’Œæ ‡é¢˜ -->
  <view class="header-section">
    <image class="bg-image" src="/images/scene-bg.jpg" mode="aspectFill"></image>
    <view class="header-content">
      <view class="back-icon" bindtap="onBack">â†</view>
      <view class="like-icon">ğŸ‘</view>
    </view>
    <view class="title-section">
      <view class="title">{{sceneData.title}}</view>
      <view class="desc">{{sceneData.desc}}</view>
    </view>
  </view>

  <!-- è®¾å¤‡åˆ—è¡¨ -->
  <view class="content-section">
    <view class="section-title">å½“ {{sceneData.devices[0].name}} æ—¶</view>
    <view class="devices-list">
      <view class="device-item" wx:for="{{sceneData.devices}}" wx:key="name">
        <view class="device-icon">ğŸ“±</view>
        <view class="device-info">
          <view class="device-name">{{item.name}}</view>
          <view class="device-state">{{item.state}}</view>
        </view>
      </view>
    </view>
 <!-- å·²é€‰è®¾å¤‡åˆ—è¡¨ -->
<view class="selected-devices" wx:if="{{selectedDevices.length > 0}}">
  <view class="section-title">å·²æ·»åŠ è®¾å¤‡</view>
  <view class="device-list">
    <view class="device-item selected" wx:for="{{selectedDevices}}" wx:key="id">
      <view class="device-info">
        <view class="device-name">{{item.name}}</view>
        <view class="device-type">{{item.type}}</view>
      </view>
      <view class="device-actions">
        <picker range="{{item.actions}}" value="0" bindchange="switchDeviceAction" data-device-id="{{item.id}}">
          <view class="action-picker">
            <text>{{item.selectedAction}}</text>
            <text class="arrow">â–¼</text>
          </view>
        </picker>
      </view>
      <view class="remove-btn" bindtap="removeDevice" data-device-id="{{item.id}}">
        <text>Ã—</text>
      </view>
    </view>
  </view>
</view>

<!-- æ·»åŠ è®¾å¤‡æŒ‰é’® -->
<view class="add-device-btn" bindtap="showDeviceList">
  <text class="plus-icon">+</text>
  <text>æ·»åŠ è®¾å¤‡</text>
</view>

<!-- è®¾å¤‡åˆ—è¡¨å¼¹çª— -->
<view class="device-list-modal" wx:if="{{showDeviceList}}">
  <view class="modal-mask" bindtap="hideDeviceList"></view>
  <view class="modal-content">
    <view class="modal-header">
      <text>é€‰æ‹©è®¾å¤‡</text>
      <text class="close-btn" bindtap="hideDeviceList">Ã—</text>
    </view>
    <view class="available-device-list">
      <view class="device-item available" wx:for="{{availableDevices}}" wx:key="id" bindtap="selectDevice" data-device="{{item}}">
        <view class="device-icon">ğŸ“±</view>
        <view class="device-info">
          <view class="device-name">{{item.name}}</view>
          <view class="device-type">{{item.type}}</view>
        </view>
        <view class="add-icon">+</view>
      </view>
    </view>
  </view>
</view>
  </view>

  <!-- åœºæ™¯æ·»åŠ æŒ‰é’® -->
  <!-- <view class="content-section">
    <view class="add-btn">
      <text class="plus-icon">+</text>
      <text>æ·»åŠ åœºæ™¯</text>
    </view>
  </view> -->
<!-- æ—¥æœŸé€‰æ‹© -->
<view class="form-section">
    <date-picker
      startddate="{{startdate}}"
      endddate="{{enddate}}"
      bind:change="handleDateChange"
    />
  </view>
  <!-- æ—¶é—´é€‰æ‹© -->
  <view class="content-section">
    <view class="time-section">
      <view class="section-title">ç”Ÿæ•ˆæ—¶é—´æ®µ</view>
      <view class="time-picker" bindtap="onTimeRange">
        <text>{{timeRange}}</text>
        <text class="arrow">></text>
      </view>
    </view>
  </view>

  <!-- æ—¶é—´é€‰æ‹©å™¨ -->
  <view class="time-picker-modal" wx:if="{{showTimePicker}}">
    <picker mode="time" value="{{startTime}}" bindchange="bindStartTimeChange">
      <view class="picker-item">å¼€å§‹æ—¶é—´: {{startTime}}</view>
    </picker>
    <picker mode="time" value="{{endTime}}" bindchange="bindEndTimeChange">
      <view class="picker-item">ç»“æŸæ—¶é—´: {{endTime}}</view>
    </picker>
  </view>

  <!-- åº•éƒ¨æŒ‰é’® -->
  <view class="bottom-btn">
    <button class="create-scene-btn" bindtap="createScene">åˆ›å»ºåœºæ™¯</button>
  </view>
</view>